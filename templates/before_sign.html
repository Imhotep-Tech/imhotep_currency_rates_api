{% extends "layout.html" %}

{% block body %}

<section class="relative overflow-hidden bg-gradient-to-br from-blue-700 to-indigo-700">
  <div class="mx-auto w-full max-w-7xl px-4 sm:px-6 lg:px-8 py-16">
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-center">
      <div class="text-center lg:text-left text-white">
        <span class="inline-flex items-center rounded-full bg-white/15 px-3 py-1 text-xs font-medium">100% Free API</span>
        <h1 class="mt-4 text-3xl sm:text-4xl font-bold tracking-tight">Real-Time Currency Exchange Rates API</h1>
        <p class="mt-3 text-white/90">Access accurate exchange rates for 170+ currencies with simple integration, reliable data, and zero subscription fees.</p>
        <div class="mt-6 flex flex-col sm:flex-row gap-3 sm:justify-start justify-center">
          <a href="/register" class="inline-flex items-center justify-center rounded-md bg-white px-5 py-2 text-sm font-medium text-blue-700 shadow-sm hover:bg-gray-100"><i class="fas fa-rocket mr-2"></i> Get Your API Key</a>
          <a href="#convert-demo" class="inline-flex items-center justify-center rounded-md border border-white/70 px-5 py-2 text-sm font-medium text-white hover:bg-white/10"><i class="fas fa-code mr-2"></i> Try Demo</a>
        </div>
      </div>
      <div class="hidden lg:block">
        <div class="relative h-64">
          <div class="absolute top-4 left-6 rounded-2xl bg-white/10 backdrop-blur p-4 text-white shadow-lg">
            <div class="text-xs">USD → EUR</div>
            <div class="text-2xl font-bold">0.93</div>
          </div>
          <div class="absolute top-28 right-8 rounded-2xl bg-white/10 backdrop-blur p-4 text-white shadow-lg">
            <div class="text-xs">EUR → GBP</div>
            <div class="text-2xl font-bold">0.85</div>
          </div>
          <div class="absolute bottom-4 left-24 rounded-2xl bg-white/10 backdrop-blur p-4 text-white shadow-lg">
            <div class="text-xs">GBP → JPY</div>
            <div class="text-2xl font-bold">187.24</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="bg-white">
  <div class="mx-auto w-full max-w-7xl px-4 sm:px-6 lg:px-8 py-12">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 text-center md:text-left">
      <div class="rounded-xl border border-gray-200 p-6 shadow-sm">
        <div class="mx-auto mb-3 flex h-12 w-12 items-center justify-center rounded-full bg-blue-100 text-blue-700"><i class="fas fa-globe-americas"></i></div>
        <h3 class="font-semibold">Global Currencies</h3>
        <p class="text-gray-600">Comprehensive coverage of major and minor currencies</p>
      </div>
      <div class="rounded-xl border border-gray-200 p-6 shadow-sm">
        <div class="mx-auto mb-3 flex h-12 w-12 items-center justify-center rounded-full bg-green-100 text-green-700"><i class="fas fa-server"></i></div>
        <h3 class="font-semibold">99.9% Uptime</h3>
        <p class="text-gray-600">Enterprise-grade reliability you can depend on</p>
      </div>
    </div>
  </div>
</section>

<section id="convert-demo" class="bg-gray-50">
  <div class="mx-auto w-full max-w-7xl px-4 sm:px-6 lg:px-8 py-12">
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 items-start">
      <div class="rounded-xl bg-white p-6 shadow-sm ring-1 ring-gray-200">
        <h2 class="m-0 text-lg font-semibold mb-4">Try Conversion Demo</h2>
        <form id="convert-form" class="space-y-4">
          <div>
            <label class="mb-1 block text-sm font-medium text-gray-700">API Key</label>
            <input id="demo_api_key" type="text" class="w-full rounded-md border border-gray-300 bg-gray-50 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none" placeholder="Enter your API key" required>
          </div>
          <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
            <div>
              <label class="mb-1 block text-sm font-medium text-gray-700">From (Base)</label>
              <input id="from_currency" type="text" value="USD" class="w-full rounded-md border border-gray-300 bg-gray-50 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none" required>
            </div>
            <div>
              <label class="mb-1 block text-sm font-medium text-gray-700">To (Target)</label>
              <input id="to_currency" type="text" value="EUR" class="w-full rounded-md border border-gray-300 bg-gray-50 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none" required>
            </div>
          </div>
          <div>
            <label class="mb-1 block text-sm font-medium text-gray-700">Amount</label>
            <input id="amount" type="number" value="100" min="0" class="w-full rounded-md border border-gray-300 bg-gray-50 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none" required>
          </div>
          <button type="submit" class="inline-flex w-full items-center justify-center rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-blue-700">
            <i class="fas fa-exchange-alt mr-2"></i> Convert Currency
          </button>
        </form>
      </div>
      <div class="rounded-xl bg-white p-6 shadow-sm ring-1 ring-gray-200">
        <div class="flex items-center justify-between mb-2">
          <h3 class="m-0 text-sm font-semibold">API Response</h3>
          <button id="copy-convert-response" class="inline-flex items-center rounded-md border border-gray-300 px-2 py-1 text-xs text-gray-700 hover:bg-gray-50"><i class="fas fa-copy mr-1"></i> Copy</button>
        </div>
<pre class="m-0 bg-gray-900 text-gray-100 p-3 rounded" id="convert-response"><code>{
  "result": null,
  "status": "waiting for input"
}</code></pre>
      </div>
    </div>
  </div>
</section>

<section class="bg-blue-700 text-white">
  <div class="mx-auto w-full max-w-7xl px-4 sm:px-6 lg:px-8 py-12 text-center">
    <h2 class="text-2xl font-semibold mb-2">Ready to Get Started?</h2>
    <p class="text-white/90 mb-4">Create an account and get your free API key in seconds.</p>
    <div class="flex flex-col sm:flex-row gap-3 justify-center">
      <a href="/register" class="inline-flex items-center justify-center rounded-md bg-white px-5 py-2 text-sm font-medium text-blue-700 shadow-sm hover:bg-gray-100"><i class="fas fa-user-plus mr-2"></i> Sign Up Free</a>
      <a href="/login" class="inline-flex items-center justify-center rounded-md border border-white/70 px-5 py-2 text-sm font-medium text-white hover:bg-white/10"><i class="fas fa-sign-in-alt mr-2"></i> Login</a>
    </div>
  </div>
</section>

<script>
(function(){
  var form = document.getElementById('convert-form');
  var responseEl = document.getElementById('convert-response');
  var copyBtn = document.getElementById('copy-convert-response');
  if(form){
    form.addEventListener('submit', function(e){
      e.preventDefault();
      var apiKey = document.getElementById('demo_api_key').value.trim();
      var from = document.getElementById('from_currency').value.trim();
      var to = document.getElementById('to_currency').value.trim();
      var amount = document.getElementById('amount').value.trim();
      if(!apiKey || !from || !to || !amount){ return; }
      var url = '/convert/latest_rates/' + encodeURIComponent(apiKey) + '/' + encodeURIComponent(from) + '/' + encodeURIComponent(to) + '/' + encodeURIComponent(amount);
      fetch(url)
        .then(function(res){ return res.json(); })
        .then(function(data){
          var pretty = JSON.stringify(data, null, 2);
          responseEl.textContent = pretty;
        })
        .catch(function(err){
          responseEl.textContent = JSON.stringify({ error: String(err) }, null, 2);
        });
    });
  }
  if(copyBtn && responseEl){
    copyBtn.addEventListener('click', function(){
      var text = responseEl.textContent;
      navigator.clipboard.writeText(text);
    });
  }
})();
</script>

{% endblock %}